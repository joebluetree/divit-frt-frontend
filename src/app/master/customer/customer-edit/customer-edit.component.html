<div class="page-header">
  <h5>{{title}}</h5>
  <button *ngIf="bAdd" class="btn btn-sm btn-success" routerLink="/masters/customerEdit"
    [queryParams]="{id :0, _id:id+1,mode:'add',menuid:menuid,type:type,appid:appid}">New</button>
  <button class="btn btn-success btn-sm ml-2" (click)="openHistory()">History</button>
  <button class="btn btn-success btn-sm" (click)="return2Parent()">Return</button>
</div>

<form [formGroup]="mform">

  <div class="page-body">


    <div class="row">

      <div class="col-sm-6">

        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="">Code</label>
          <div class="col-sm-8">
            <app-input maxlength="15" formControlName="cust_code" [case]="'UPPER'" id="cust_code" name="cust_code"
              required></app-input>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="">Short Name</label>
          <div class="col-sm-8">
            <app-input maxlength="15" formControlName="cust_short_name" [case]="'UPPER'" required></app-input>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="">Name</label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_name" [case]="'UPPER'" required></app-input>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="">Official Name</label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_official_name" [case]="'UPPER'" required></app-input>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="">Main Code</label>
          <div class="col-sm-8">
            <auto-complete formControlName="cust_parent_name" id="cust_parent_name" (CallBack)="callBack($event)"
              [table]="'customerm'" [company_id]="getCompanyId()" [url]="url" [filter]="{cust_is_parent : 'Y'}"
              display_column="[{'caption':'code','value':'cust_id'},{'caption':'name','value':'cust_name'}]" required></auto-complete>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="">Address</label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_address1" [case]="'UPPER'" required></app-input>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm"></label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_address2" [case]="'UPPER'" required></app-input>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm"></label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_address3" [case]="'UPPER'" required></app-input>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="">City</label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_city" [case]="'UPPER'" required></app-input>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="">State</label>
          <div class="col-sm-8">
            <auto-complete formControlName="cust_state_name" id="cust_state_name" (CallBack)="callBack($event)"
              [table]="'param'" [subtable]="'state'" [company_id]="getCompanyId()" [url]="url"
              display_column="[{'caption':'CODE','value':'param_code'},{'caption':'NAME','value':'param_name'}]" required></auto-complete>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="">Country</label>
          <div class="col-sm-8">
            <auto-complete formControlName="cust_country_name" id="cust_country_name" (CallBack)="callBack($event)"
              [table]="'param'" [subtable]="'country'" [company_id]="getCompanyId()" [url]="url"
              display_column="[{'caption':'CODE','value':'param_code'},{'caption':'NAME','value':'param_name'}]" required></auto-complete>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm">Zip Code</label>
          <div class="col-sm-6">
            <app-input maxlength="100" formControlName="cust_zip_code" [case]="'UPPER'" required></app-input>
          </div>
          <div class="col-sm-2">
            <button class="btn btn-success btn-sm" (click)="setAddress()">Set Address</button>
          </div>
        </div>
      </div>
      <div class="col-sm-6">
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm">Contact Name</label>
          <div class="col-sm-2">
            <app-combobox maxlength="10" formControlName="cust_title" name="cust_title" [dataSource]="titleList"
              [valueColumn]="'key'" [displayColumn]="'value'" case="UPPER"></app-combobox>
          </div>
          <div class="col-sm-6">
            <app-input maxlength="100" formControlName="cust_contact" [case]="'UPPER'"></app-input>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm">Designation</label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_designation" [case]="'UPPER'"></app-input>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm">Tel</label>
          <div class="col-sm-3">
            <app-input maxlength="100" formControlName="cust_tel" [case]="'UPPER'"></app-input>
          </div>
          <label class="col-sm-2 form-label form-lable-sm">Mobile</label>
          <div class="col-sm-3">
            <app-input maxlength="100" formControlName="cust_mobile" [case]="'UPPER'"></app-input>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm">Fax</label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_fax" [case]="'UPPER'"></app-input>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm">Web</label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_web" [case]="'UPPER'"></app-input>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm">Email</label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_email" [case]="'UPPER'"></app-input>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm">Refer By</label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_refer_by" [case]="'UPPER'"></app-input>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="">Sales.Rep</label>
          <div class="col-sm-8">
            <auto-complete formControlName="cust_salesman_name" id="cust_salesman_name" (CallBack)="callBack($event)"
              [table]="'param'" [subtable]="'salesman'" [company_id]="getCompanyId()" [url]="url"
              display_column="[{'caption':'CODE','value':'param_code'},{'caption':'NAME','value':'param_name'}]"></auto-complete>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="cust_handled_name">Handled.By</label>
          <div class="col-sm-8">
            <auto-complete formControlName="cust_handled_name" id="cust_handled_name" (CallBack)="callBack($event)"
              [table]="'param'" [subtable]="'salesman'" [company_id]="getCompanyId()" [url]="url"
              display_column="[{'caption':'CODE','value':'param_code'},{'caption':'NAME','value':'param_name'}]"></auto-complete>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="cust_location_name">Location</label>
          <div class="col-sm-8">
            <auto-complete formControlName="cust_location_name" id="cust_location_name" (CallBack)="callBack($event)"
              [table]="'branchm'" [company_id]="getCompanyId()" [url]="url"
              display_column="[{'caption':'CODE','value':'branch_code'},{'caption':'NAME','value':'branch_name'}]"></auto-complete>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm">Credit-Limit</label>
          <div class="col-sm-3">
            <app-input formControlName="cust_credit_limit" type="number" [dec]="gs.globalConstants.global_dec_places" [align]="'center'"
              (blur)="onBlur($event)">
            </app-input>
          </div>
          <label class="col-sm-2 form-label form-lable-sm" for="">Credit Days</label>
          <div class="col-sm-3">
            <app-input maxlength="100" formControlName="cust_days" type="number" [align]="'center'"  ></app-input>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm">Est-Date</label>
          <div class="col-sm-8">
            <app-date formControlName="cust_est_dt" [format]="gs.globalConstants.global_date_format" [placeholder]="gs.globalConstants.global_date_format"></app-date>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="page-body">
    <div class="row">
      <h6>Category</h6>
    </div>
  </div>

  <div class="page-body">
    <div class="row">
      <div class="col-sm-3">
        <div class="form-group row">
          <div class="col-sm-12">
            <app-checkbox formControlName="cust_is_shipper"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Shipper (S)</label>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <app-checkbox formControlName="cust_is_consignee"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Consignee (C)</label>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <app-checkbox formControlName="cust_is_importer"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Importer (I)</label>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <app-checkbox formControlName="cust_is_exporter"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Exporter (X)</label>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <app-checkbox formControlName="cust_is_cha"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Custom Broker (B)</label>
          </div>
        </div>
      </div>
      <div class="col-sm-3">
        <div class="form-group row">
          <div class="col-sm-12">
            <app-checkbox formControlName="cust_is_forwarder"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Domestic Forwarder (F)</label>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <app-checkbox formControlName="cust_is_oagent"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Overseas Agent (A)</label>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <app-checkbox formControlName="cust_is_acarrier"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Air Carrier (L)</label>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <app-checkbox formControlName="cust_is_scarrier"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Sea Carrier (R)</label>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <app-checkbox formControlName="cust_is_trucker"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Trucker (T)</label>
          </div>
        </div>
      </div>
      <div class="col-sm-3">
        <div class="form-group row">
          <div class="col-sm-12">
            <app-checkbox formControlName="cust_is_warehouse"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Warehouse (W)</label>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <app-checkbox formControlName="cust_is_sterminal"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Terminal Sea/Rail (N)</label>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <app-checkbox formControlName="cust_is_aterminal"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Terminal Air (P)</label>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <app-checkbox formControlName="cust_is_shipvendor"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Shipping Vendor (H)</label>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <app-checkbox formControlName="cust_is_gvendor"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">General Vendor (V)</label>
          </div>
        </div>
      </div>
      <div class="col-sm-3">
        <div class="form-group row">
          <div class="col-sm-12">
            <app-checkbox formControlName="cust_is_employee"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Employee (E)</label>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <app-checkbox formControlName="cust_is_contract"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Contractor (O)</label>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <app-checkbox formControlName="cust_is_miscell"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Miscellaneous (M)</label>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <app-checkbox formControlName="cust_is_tbd"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">TBD (D)</label>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <app-checkbox formControlName="cust_is_bank"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Bank/ Fin.Inst (K)</label>
          </div>
        </div>
      </div>
    </div>

  </div>

  <div class="page-body">
    <div class="row">
      <div class="col-sm-6">
        <div class="form-group row">
          <label class="col-sm-4 form-label form-label-sm" for="">Client Type</label>
          <div class="col-sm-8">
            <app-combobox [dataSource]="dataList" [valueColumn]="'key'" [displayColumn]="'value'"
              formControlName="cust_nomination"></app-combobox>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-label-sm" for="">Vendor Priority</label>
          <div class="col-sm-8">
            <app-combobox [dataSource]="priorityList" [valueColumn]="'key'" [displayColumn]="'value'"
              formControlName="cust_priority"></app-combobox>
          </div>
        </div>
      </div>
      <div class="col-sm-6">
        <div class="form-group row">
          <label class="col-sm-4 form-label form-label-sm" for="">Criteria/Min.Profit</label>
          <div class="col-sm-4">
            <app-combobox [dataSource]="profitList" [valueColumn]="'key'" [displayColumn]="'value'"
              formControlName="cust_criteria"></app-combobox>
          </div>
          <div class="col-sm-4">
            <app-input formControlName="cust_min_profit" type="number" [dec]="gs.globalConstants.global_dec_places" ></app-input>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-label-sm" for="">Group</label>
          <div class="col-sm-8">
            <app-combobox [dataSource]="groupList" [valueColumn]="'key'" [displayColumn]="'value'"
              formControlName="cust_chb_group"></app-combobox>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="page-body">
    <div class="row">
      <div class="col-sm-6">
        <div class="row">
          <div class="col-sm-4">
            <div class="form-group row">
              <label class="col-sm-12 form-label form-lable-sm" for="">Firm Code</label>
            </div>
            <div class="form-group row">
              <label class="col-sm-12 form-label form-lable-sm" for="">EIN/IRS/SS#</label>
            </div>
            <div class="form-group row">
              <label class="col-sm-4 form-label form-lable-sm" for="">Memo</label>
            </div>
          </div>
          <div class="col-sm-8">
            <div class="row">
              <div class="col-sm-5">
                <div class="col-sm-12">
                  <app-input maxlength="100" formControlName="cust_firm_code" [case]="'UPPER'"></app-input>
                </div>
                <div class="col-sm-12">
                  <app-input maxlength="100" formControlName="cust_einirsno" [case]="'UPPER'"></app-input>
                </div>
                <div class="col-sm-12">
                  <app-input maxlength="100" formControlName="cust_splacc_memo" [case]="'UPPER'"></app-input>
                </div>
              </div>
              <div class="col-sm-7">
                <div class="form-group row">
                  <div class="col-sm-12">
                    <app-checkbox formControlName="cust_is_splacc"></app-checkbox>
                    <label class="ms-1 form-label form-label-sm">Credit/Special Accounts</label>
                  </div>
                </div>
                <div class="form-group row">
                  <div class="col-sm-12">
                    <app-checkbox formControlName="cust_is_actual_vendor"></app-checkbox>
                    <label class="ms-1 form-label form-label-sm">Vendor</label>
                  </div>
                </div>
                <div class="form-group row">
                  <div class="col-sm-12">
                    <app-checkbox formControlName="cust_is_blackacc"></app-checkbox>
                    <label class="ms-1 form-label form-label-sm">Black Account</label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="form-group row">
          <label class="form-label form-label-sm col-sm-4">C-TPAT Certified</label>
          <div class="col-sm-8">
            <app-checkbox formControlName="cust_is_ctpat"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Yes/No</label>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="">C-TPAT#</label>
          <div class="col-sm-4">
            <app-input maxlength="100" formControlName="cust_ctpat_no" [case]="'UPPER'"></app-input>
          </div>
        </div>
        <div class="form-group row">
          <label class="form-label form-label-sm col-sm-4">Include in Marketing Mail</label>
          <div class="col-sm-8">
            <app-checkbox formControlName="cust_marketing_mail"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Yes/No</label>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="page-body">
    <div class="row">
      <div class="col-sm-6">
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="">CHB</label>
          <div class="col-sm-8">
            <auto-complete formControlName="cust_chb_code" id="cust_chb_code" (CallBack)="callBack($event)"
              [table]="'customerm'" [company_id]="getCompanyId()" [url]="url"
              display_column="[{'caption':'CODE','value':'cust_code'},{'caption':'NAME','value':'cust_name'}]"></auto-complete>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="">Name</label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_chb_name" [case]="'UPPER'"></app-input>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="">Address</label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_chb_address1" [case]="'UPPER'"></app-input>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm"></label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_chb_address2" [case]="'UPPER'"></app-input>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm"></label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_chb_address3" [case]="'UPPER'"></app-input>
          </div>
        </div>
      </div>
      <div class="col-sm-6">
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="">Contact</label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_chb_contact" [case]="'UPPER'"></app-input>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="">Tel</label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_chb_tel" [case]="'UPPER'"></app-input>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="">Fax</label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_chb_fax" [case]="'UPPER'"></app-input>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="">Email</label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_chb_email" [case]="'UPPER'"></app-input>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="page-body">
    <div class="row">
      <div class="col-sm-6">

        <div class="form-group row">
          <label class="form-label form-label-sm col-sm-4">POA For Customs On File</label>
          <div class="col-sm-8">
            <app-checkbox formControlName="cust_poa_customs_yn" id="cust_poa_customs_yn"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Yes/No</label>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="">Brokers</label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_brokers" [case]="'UPPER'"></app-input>
          </div>
        </div>
        <div class="form-group row">
          <label class="form-label form-label-sm col-sm-4">POA For ISF On File</label>
          <div class="col-sm-8">
            <app-checkbox formControlName="cust_poa_isf_yn"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Yes/No</label>
          </div>
        </div>
      </div>
      <div class="col-sm-6">

        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="cust_punch_from">Purch/From</label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_punch_from" id="cust_punch_from"
              [case]="'UPPER'"></app-input>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="">Bond No</label>
          <div class="col-sm-8">
            <app-input maxlength="100" formControlName="cust_bond_no" [case]="'UPPER'"></app-input>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm">BondExp/Date</label>
          <div class="col-sm-8">
            <app-date formControlName="cust_bond_expdt" [format]="gs.globalConstants.global_date_format" [placeholder]="gs.globalConstants.global_date_format"></app-date>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="page-body">
    <div class="row">
      <div class="col-sm-6">
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="cust_branch_name">Default Branch</label>
          <div class="col-sm-4">
            <auto-complete formControlName="cust_branch_name" id="cust_branch_name" (CallBack)="callBack($event)"
              [table]="'branchm'" [company_id]="getCompanyId()" [url]="url"
              display_column="[{'caption':'CODE','value':'branch_code'},{'caption':'NAME','value':'branch_name'}]"></auto-complete>
          </div>
          <div class="col-sm-4">
            <app-checkbox formControlName="cust_protected"></app-checkbox>
            <label class="ms-1 form-label form-label-sm">Protected Record</label>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 form-label form-lable-sm" for="cust_cur_name">Currency</label>
          <div class="col-sm-4">
            <auto-complete formControlName="cust_cur_name" id="cust_cur_name" (CallBack)="callBack($event)"
              [table]="'param'" [subtable]="'currency'" [company_id]="getCompanyId()" [url]="url"
              display_column="[{'caption':'CODE','value':'param_code'},{'caption':'NAME','value':'param_name'}]"></auto-complete>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="page-body">

    <div class="row">

      <div class="col-sm-12">

        <table class="table table-sm table-hover table-bordered table-striped table-condensed">

          <thead class="table-success">
            <tr class="table-header">
              <th *ngIf="showModel">ID</th>
              <th>GROUP</th>
              <th>TITLE</th>
              <th>NAME</th>
              <th>DESIGNATION</th>
              <th>EMAIL</th>
              <th>TEL</th>
              <th>MOBILE</th>
              <th>COUNTRY</th>
              <th>REMARKS</th>
              <th>ADD</th>
              <th>DELETE</th>
            </tr>
          </thead>

          <tbody formArrayName="cust_contacts">
            <tr *ngFor="let iRow of formArray('cust_contacts').controls; let i=index;" [formGroupName]="i">
              <td *ngIf="showModel">
                <label>{{iRow.get('cont_id')?.value}}</label>
              </td>
              <td>
                <auto-complete formControlName="cont_group_name" [rowIndex]="i" name="cont_group_name"
                  (CallBack)="callBack($event)" table="param" subtable="contact-group" [company_id]="getCompanyId()"
                  [url]="url"
                  display_column="[{'caption':'CODE','value':'param_code'},{'caption':'NAME','value':'param_name'}]"></auto-complete>
              </td>
              <td>
                <app-combobox maxlength="10" formControlName="cont_title" [rowIndex]="i" name="cont_title"
                  [dataSource]="titleList" [valueColumn]="'key'" [displayColumn]="'value'" case="UPPER"></app-combobox>
              </td>
              <td>
                <app-input maxlength="100" formControlName="cont_name" [rowIndex]="i" name="cont_name"
                  case="UPPER"></app-input>
              </td>
              <td>
                <app-input maxlength="100" formControlName="cont_designation" [rowIndex]="i" name="cont_designation"
                  case="UPPER"></app-input>
              </td>
              <td>
                <app-input maxlength="100" formControlName="cont_email" [rowIndex]="i" name="cont_email"
                  case="UPPER"></app-input>
              </td>
              <td>
                <app-input maxlength="100" formControlName="cont_tel" [rowIndex]="i" name="cont_tel"
                  case="UPPER"></app-input>
              </td>
              <td>
                <app-input maxlength="100" formControlName="cont_mobile" [rowIndex]="i" name="cont_mobile"
                  case="UPPER"></app-input>
              </td>
              <td>
                <auto-complete formControlName="cont_country_name" [rowIndex]="i" name="cont_country_name"
                  (CallBack)="callBack($event)" table="param" subtable="country" [company_id]="getCompanyId()"
                  [url]="url" case="upper"
                  display_column="[{'caption':'ID','value':'param_id'},{'caption':'CODE','value':'param_code'},{'caption':'NAME','value':'param_name'}]"></auto-complete>
              </td>
              <td>
                <app-input maxlength="100" formControlName="cont_remarks" [rowIndex]="i" name="cont_remarks"
                  case="UPPER"></app-input>
              </td>

              <td align="centre" (click)="addContact()" class="link">
                <i class="fa fa-plus"></i>
              </td>

              <td align="centre" (click)="deleteRow(i)" class="link">
                <i class="fa fa-trash"></i>
              </td>

            </tr>
          </tbody>
        </table>

      </div>

    </div>


    <div class="row" *ngIf="formArray('cust_contacts').length <= 0">
      <div class="col-sm-12 text-center">
        <button class="btn btn-sm btn-info" (click)="addContact()" [disabled]="mform.invalid">Add Contact</button>
      </div>
    </div>

  </div>


</form>


<div class="page-footer line-bottom">
  <button *ngIf="bAdd || bEdit" class="btn btn-sm btn-success" (click)="save()" [disabled]="mform.invalid">Save</button>
</div>


<div *ngIf="showModel">
  <pre>
    {{mform.value | json}}
  </pre>
</div>